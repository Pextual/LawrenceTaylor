(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{376:function(e,a,t){"use strict";t.r(a),function(e,t){var s=function(){function e(e,a){for(var t=0;t<a.length;t++){var s=a[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(a,t,s){return t&&e(a.prototype,t),s&&e(a,s),a}}();var r=function(){function a(){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),this._init()}return s(a,[{key:"_init",value:function(){this.$MENU_ITEMS=e("header").find(".level-0 > ul li.selected"),this._addIdToMinicartForTracking()}},{key:"_getUrlVars",value:function(){for(var e,a=[],t=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<t.length;s++)e=t[s].split("="),a.push(e[0]),a[e[0]]=e[1];return a}},{key:"_getCurrentPage",value:function(){var a=window.location.pathname,s=t.navigation.Area.toLowerCase(),r=t.navigation.Controller.toLowerCase(),i="experienceplugin"===r&&a.search("corporate")>0,c="experienceplugin"===r&&a.search("clientservice")>0,n=this._getUrlVars();return i&&a.search("store-locator")>0&&a.search("architecture")>0?"is-architecture":i&&a.search("store-locator")>0?"is-storelocator":i&&a.search("/store")>0?"is-storelocatorsinglepage":i&&a.search("/news/")>0?"is-news":i?"is-experience":-1!==a.indexOf("/system/")?"is-customercare":c&&e("body").hasClass("home")?"is-clientservice":"search"===r&&e("#searchresults").hasClass("textsearch")?"is-textsearch":"search"===r&&a.toLowerCase().search("/search")>=0&&(void 0!==n.department&&n.department.search("rltd")>0||void 0!==n.dept&&n.dept.search("rltd")>0)?"is-searchwithdeptrelated":"search"===r&&a.toLowerCase().search("/search")>=0&&(void 0!==n.department&&n.department.search("privatesale_men")>=0||void 0!==n.dept&&n.dept.search("privatesale_men")>=0)?"is-privatesale-men":"search"===r&&a.toLowerCase().search("/search")>=0&&(void 0!==n.department&&n.department.search("privatesale_women")>=0||void 0!==n.dept&&n.dept.search("privatesale_women")>=0)?"is-privatesale-women":"search"===r?"is-search":"home"===r||"subhome"===r||"customercareoverview"===r||"item"===r?"is-"+r:"account"===s||"onepagecheckout"===s||"productexchange"===s||"help"===s?"is-"+s:void 0!==this.$MENU_ITEMS.data("target-parameters")&&-1!=this.$MENU_ITEMS.data("target-parameters").indexOf("section")&&"subhome"!==r?"is-subhomelike":void 0}},{key:"_removeMenuSelected",value:function(e){e.removeClass("selected").parents(".hasSelectedChild").removeClass("hasSelectedChild")}},{key:"_addMenuSelected",value:function(e){e.addClass("selected")}},{key:"_addMenuSelectedChild",value:function(e,a){e.addClass("hasSelectedChild"),this._addMenuSelected(e.find(a))}},{key:"_handleBreadcrumbsInSearchWithDeptRelated",value:function(){t.watch({"yTos::Navigation::BreadcrumbsDOMReady":function(){e(".breadcrumbs .crumb").slice(2).hide(),e(".breadcrumbs .crumb").slice(1,2).addClass("leaf")}})}},{key:"_handleItemHash",value:function(){var a=window.location.href;if(-1!==a.indexOf("dept=")){this._removeMenuSelected(this.$MENU_ITEMS);var t=a.match(/dept=([^&]+)/i)[1],s=e("#"+t);this._addMenuSelected(s),s.parents(".menuItem").addClass("hasSelectedChild")}}},{key:"fixSelectedMenuItem",value:function(){var a=this,s=this._getCurrentPage();switch(s){case"is-home":case"is-subhomelike":case"is-account":case"is-onepagecheckout":case"is-productexchange":case"is-customercareoverview":case"is-experience":case"is-customercare":case"is-textsearch":case"is-searchwithdeptrelated":case"is-architecture":case"is-storelocator":case"is-storelocatorsinglepage":case"is-news":case"is-privatesale-men":case"is-privatesale-women":case"is-help":case"is-clientservice":this._removeMenuSelected(this.$MENU_ITEMS);break;case"is-item":this._handleItemHash(),t.watch({"ST::PRIVATESALE::MENU_ITEM_ADDED":function(){a._handleItemHash(),window.location.hash.substr(1).toLowerCase().search("privatesale")>=0&&t.watchOne({"yTos::Search::BackToProductsLinkUpdated":function(){var a=e("header").find(".level-0 > ul li.selected").find("> a").attr("href");e(".backToSearch a").attr("href",a)}})}})}var r=e(".saint_laurent_store_locator.menuItem");switch(s){case"is-customercareoverview":case"is-clientservice":this._addMenuSelected(e(".userbar .customerCare"));break;case"is-searchwithdeptrelated":this._handleBreadcrumbsInSearchWithDeptRelated();break;case"is-privatesale-men":t.watch({"ST::PRIVATESALE::MENU_ITEM_ADDED":function(){a._addMenuSelected(e("#privateSaleMen"))}});break;case"is-privatesale-women":t.watch({"ST::PRIVATESALE::MENU_ITEM_ADDED":function(){a._addMenuSelected(e("#privateSaleWoman"))}});break;case"is-architecture":this._addMenuSelectedChild(r,"#saint_laurent_store_locator_architecture");break;case"is-storelocator":case"is-storelocatorsinglepage":this._addMenuSelectedChild(r,"#saint_laurent_store_locator_find_a_store");break;case"is-news":this._addMenuSelectedChild(e(".la_maison.menuItem"),"#la_maison_newsfeed")}t.notify("ST::MENU::SELECTED_SETTED")}},{key:"_addIdToMinicartForTracking",value:function(){var a='[data-ytos-ctrl="checkout.linkToShoppingBag"]';e(document.documentElement).hasClass("smartphone")?e(".header > .container-logo-icon "+a).attr("id","minicartButton_smartphone"):(e(".header .container-logo-icon "+a).attr("id","minicartButton_tablet"),e(".userbar "+a).attr("id","minicartButton_desktop"))}}]),a}();a.default=r}.call(this,t(4),t(8))}}]);
//# sourceMappingURL=F31Fixer.js.map