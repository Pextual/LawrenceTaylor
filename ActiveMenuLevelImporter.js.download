(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{360:function(n,t,e){"use strict";e.r(t),function(n){var i=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},a=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();var r=function(){function t(n,e){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=n,this.options=i({MENU_SELECTOR:".menu",MENU_ITEM_SELECTOR:".menuItem",MENU_ITEM_SELECTED_SELECTOR:".selected",MENU_ITEM_NO_IMPORT_SELECTOR:".no-import",MENU_CLASS_NAME:"gtpl-linklist",MENU_ITEM_TOP_LINK_SELECTOR:".top-link",MENU_ITEM_BACKGROUND_MEDIA_ATTRIBUTE:"data-image-path",CONTAINER_BG_CLASS:"container-bg"},e),this._init()}return a(t,[{key:"_init",value:function(){this.menu=n(this.options.MENU_SELECTOR)}},{key:"_fetchMenuLinksAsync",value:function(){var n=this;return new Promise(function(t,e){var i=n.menu.find(n.options.MENU_ITEM_SELECTED_SELECTOR).find("> [data-level] > ul > "+n.options.MENU_ITEM_SELECTOR).not(n.options.MENU_ITEM_NO_IMPORT_SELECTOR).clone().removeAttr("id").addClass(n.options.MENU_CLASS_NAME+"-element");i.find("[data-level]").remove(),t(i)})}},{key:"_setTopLinkIfFoundInList",value:function(t){var e=t.filter(this.options.MENU_ITEM_TOP_LINK_SELECTOR);return e.length>0&&(t.splice(n.inArray(e,t)-1,1),t=n("<div></div>").append(t).prepend(e).find(this.options.MENU_ITEM_SELECTOR)),t}},{key:"_setMediaHandlerForListElements",value:function(){var t=function(n){return function(){var t=n.apply(this,arguments);return new Promise(function(n,e){return function i(a,r){try{var o=t[a](r),s=o.value}catch(n){return void e(n)}if(!o.done)return Promise.resolve(s).then(function(n){i("next",n)},function(n){i("throw",n)});n(s)}("next")})}}(regeneratorRuntime.mark(function t(i){var a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.e(114).then(e.bind(null,1));case 2:return t.sent.default.isDesktop()&&i.each(function(t,e){var i=n(e),r=i.attr(a.options.MENU_ITEM_BACKGROUND_MEDIA_ATTRIBUTE);if(void 0!==r){i.attr("data-image","image_"+t);var o=0==t?1:0;if(a.container.append('<img class="imageDynamic image_'+t+'" data-image="image_'+t+'" style="display: block; z-index: '+o+'; opacity: 1;" src="'+r+'">'),0===t){var s=i.data("target-parameters").indexOf("light_navigation=1")>=0?"temp_light_navigation":"temp_dark_navigation";n(".midnightHeader , .main-container").removeClass("temp_light_navigation , temp_dark_navigation").addClass(s)}i.find("a").on("mouseenter",function(t){var e=n(this).parents("li"),i=void 0!==e.data("target-parameters")&&e.data("target-parameters").indexOf("light_navigation=1")>=0?"temp_light_navigation":"temp_dark_navigation";n(".imageDynamic."+e.attr("data-image")).stop().css("z-index",1).fadeIn(200,function(){n(".midnightHeader , .main-container").removeClass("temp_light_navigation , temp_dark_navigation").addClass(i)}),n(".imageDynamic").not("."+e.attr("data-image")).stop().fadeOut(250).css("z-index",0)})}}),t.abrupt("return",i);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}()},{key:"compileContainerWithMenuActiveSubmenu",value:function(){var t=this;this._fetchMenuLinksAsync().then(function(n){return t._setTopLinkIfFoundInList(n)}).then(function(n){return t._setMediaHandlerForListElements(n)}).then(function(e){t.container.append(n('<ul class="'+t.options.MENU_CLASS_NAME+'"></ul>').append(e))})}}]),t}();t.default=r}.call(this,e(4))}}]);
//# sourceMappingURL=ActiveMenuLevelImporter.js.map