(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{383:function(t,e,i){"use strict";i.r(e),function(t){var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.options=i({collisionTarget:null,keepClonesInHTML:!1,removeAttrOnClone:["id"],blockSource:null,maskOriginal:!0,updateOnScroll:!0,updateOnResize:!0,updateOnZoom:!0,updateOnCSSTransitionEnd:!1,autoUpdate:!0,autoUpdateInterval:2,debug:!1,collisionAttr:"navigation-color"},n),this.init()}return n(e,[{key:"init",value:function(){var e=this;return this.dataAttribute=this.options.collisionAttr,this.overlayOffset=null,this.options.collisionTarget?this.collisionTarget=t(this.element.find(this.options.collisionTarget).get(0)):this.collisionTarget=this.element,this.collisionTargetOffset=null,this.allBlocks=null,this.allClones=null,this.collidingBlocks=[],this.svgMaskInitialized=!1,this._getAllBlocks(),this.allBlocks.length>0?(this._logMessage(this.allBlocks.length+" blocks found",this.allBlocks),this.collisionTarget.addClass(this.dataAttribute+"-origin"),this._addIdToBlocks(),this._attachListeners(),this._createOverlayClones(),this.refresh(),clearInterval(null!=this.autoUpdateTimer),this.options.autoUpdate?this.autoUpdateTimer=setInterval(function(){return e.refresh()},this.options.autoUpdateInterval):void 0):this._logMessage("no blocks found")}},{key:"_triggerEvent",value:function(t,e){return this.element.trigger(t,[e]),this._logMessage(t,e)}},{key:"_getAllBlocks",value:function(){var e,i,n,l,o,s=this;if(this.options.blockSource){for(n in o=[],l=this.options.blockSource)i=l[n],o.push(function(){var l,o,a;for(a=[],l=0,o=i.length;l<o;l++)e=i[l],t(e).data(s.dataAttribute,n),s.allBlocks?a.push(s.allBlocks=s.allBlocks.add(t(e))):a.push(s.allBlocks=t(e));return a}.call(this));return o}return this.allBlocks=t("[data-"+this.dataAttribute+"]")}},{key:"_logMessage",value:function(t,e){if(this.options.debug)return console.debug(this.dataAttribute+": "+t,e)}},{key:"_addIdToBlocks",value:function(){var e=this,i=0;return this.allBlocks.each(function(n,l){return t(l).data(e.dataAttribute+"-id",i),i++})}},{key:"_requestAnimationFrame",value:function(t){var e=e||window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};e(t)}},{key:"_attachListeners",value:function(){var e=this;if(t(window).on((this.options.updateOnResize?"resize."+this.dataAttribute:void 0)+" "+(this.options.updateOnScroll?" scroll."+this.dataAttribute:void 0),function(){return e.refresh()}),this.options.updateOnCSSTransitionEnd)return this.element.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(t){if(t.originalEvent.propertyName===e.options.updateOnCSSTransitionEnd)return e.refresh()})}},{key:"_getOverlayOffset",value:function(){return this.overlayOffset=this.element.get(0).getBoundingClientRect(),this.collisionTargetOffset=this.collisionTarget.get(0).getBoundingClientRect()}},{key:"_createOverlayClones",value:function(){var e=this;return this.allBlocks.each(function(i,n){var l,o,s,a,r;if(o=e.element.clone(),e.options.removeAttrOnClone)for(s=0,a=(r=e.options.removeAttrOnClone).length;s<a;s++)l=r[s],o.removeAttr(l);return o.addClass(e.dataAttribute+"-clone"),o.addClass(t(n).data(e.dataAttribute)),o.data(e.dataAttribute+"-id",t(n).data(e.dataAttribute+"-id")),e.allClones?e.allClones=e.allClones.add(o):e.allClones=o}),this.options.keepClonesInHTML&&this.allClones.insertAfter(this.element),this._triggerEvent("clonesCreated."+this.dataAttribute,this.allClones)}},{key:"_getCollidingBlocks",value:function(){var e=this;return this.collidingBlocksOld=this.collidingBlocks,this.collidingBlocks=[],this.allBlocks.each(function(i,n){var l,o,s;if(s=e.collidingBlocksOld.hasOwnProperty(t(n).data(e.dataAttribute+"-id")),(l=n.getBoundingClientRect()).bottom>=e.collisionTargetOffset.top&&l.top<=e.collisionTargetOffset.bottom&&l.left<=e.collisionTargetOffset.right&&l.right>=e.collisionTargetOffset.left){if(e.collidingBlocks[t(n).data(e.dataAttribute+"-id")]=l,!s)return o=function(){return e._triggerEvent("collisionStart."+e.dataAttribute,n)},setTimeout(o,0)}else if(s)return o=function(){return e._triggerEvent("collisionEnd."+e.dataAttribute,n)},setTimeout(o,0)})}},{key:"_getCollisionArea",value:function(t){var e=[];return e.push(this.overlayOffset.height-(this.overlayOffset.bottom-t.top)),e.push(t.right-this.overlayOffset.left),e.push(t.bottom-this.overlayOffset.top),e.push(this.overlayOffset.width-(this.overlayOffset.right-t.left)),e}},{key:"_updateOverlayClones",value:function(){var e=this;if(this.allClones.each(function(i,n){var l;return l=t(n).data(e.dataAttribute+"-id"),e.collidingBlocks.hasOwnProperty(l)?(e.options.keepClonesInHTML?t(n).css({display:e.element.css("display")}):document.body.contains(n)||t(n).insertAfter(e.element),e._clipOverlayClone(n,e._getCollisionArea(e.collidingBlocks[l])),e.options.maskOriginal?e._manageOriginMask():void 0):e.options.keepClonesInHTML?t(n).css({display:"none"}):t(n).detach()}),0===this.collidingBlocks.length)return this.element.css({clip:"rect(auto auto auto auto)"})}},{key:"_getRelativeCollisionArea",value:function(t,e){var i,n,l,o,s,a,r;return s={x:0,y:0,width:0,height:0},t.left>e.left&&(s.x=t.left-e.left),t.top>e.top&&(s.y=t.top-e.top),r=0,(n=t.left+t.width)<(o=e.left+e.width)&&(r=o-n),s.width=e.width-s.x-r,a=0,(i=t.top+t.height)<(l=e.top+e.height)&&(a=l-i),s.height=e.height-s.y-a,s}},{key:"_manageOriginMask",value:function(){var e,i,n=this;return e=function(){var e,i,l,o,s,a;if(n.element.css({mask:"none"}),t("#"+n.dataAttribute+"-origin-mask-wrapper").remove(),n.collidingBlocks.length>0){for(e="",i=o=0,s=(a=n.collidingBlocks).length;o<s;i=++o)a[i],n.collidingBlocks.hasOwnProperty(i)&&(e=e+"<rect                   id='"+n.dataAttribute+"-origin-mask-rect-"+i+"'                   x='0'                   y='0'                   width='0'                   height='0'                   fill='black'/>");return l=t("<svg id='"+n.dataAttribute+"-origin-mask-wrapper' height='0' style='position: absolute; z-index: -1;'>                              <defs>                                <mask id='"+n.dataAttribute+"-origin-mask'>                                  <rect id='"+n.dataAttribute+"-origin-mask-fill' x='0' y='0' width='0' height='0' fill='white' />                                  "+e+"                                </mask>                              </defs>                            </svg>"),t("body").append(l),n.element.css({mask:"url(#"+n.dataAttribute+"-origin-mask)"})}},i=function(){var e,i,l,o,s,a,r,u,h;for((o=t("#"+n.dataAttribute+"-origin-mask-fill")).attr("width",n.collisionTargetOffset.width),o.attr("height",n.collisionTargetOffset.height),h=[],i=a=0,r=(u=n.collidingBlocks).length;a<r;i=++a)e=u[i],n.collidingBlocks.hasOwnProperty(i)?(s=t("#"+n.dataAttribute+"-origin-mask-rect-"+i),l=n._getRelativeCollisionArea(e,n.collisionTargetOffset),s.attr("x",l.x),s.attr("y",l.y),s.attr("width",l.width),h.push(s.attr("height",l.height))):h.push(void 0);return h},this.svgMaskInitialized?i():(e(),this.element.on("collisionStart."+this.dataAttribute+" collisionEnd."+this.dataAttribute,function(t){return e(),i()}),this.svgMaskInitialized=!0)}},{key:"_clipOverlayClone",value:function(e,i){return t(e).css({clip:"rect("+i[0]+"px "+i[1]+"px "+i[2]+"px "+i[3]+"px)"})}},{key:"_clipOverlayOriginal",value:function(t){return this.element.css({clip:"rect("+t[0]+"px auto "+t[1]+"px auto)"})}},{key:"destroy",value:function(){return t(window).off("resize."+this.dataAttribute+" scroll."+this.dataAttribute),this.element.off(),clearInterval(this.autoUpdateTimer),this.element.css({clip:"auto auto auto auto"}),this.allClones.remove(),this.allBlocks=null,this.allClones=null,this.overlayOffset=null,this.collisionTarget=null,this.collisionTargetOffset=null,this.collidingBlocks=null,this.collidingBlocksOld=null}},{key:"refresh",value:function(){var e=this;this._getOverlayOffset(),this._getCollidingBlocks(),this._updateOverlayClones(),this.options.updateOnScroll&&t("html").hasClass("tablet")&&this._requestAnimationFrame(function(){e.refresh()})}}]),e}();e.default=l}.call(this,i(4))}}]);
//# sourceMappingURL=DynamicStyleNoMobile.js.map