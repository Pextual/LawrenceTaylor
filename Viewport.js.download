(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{131:function(t,e,n){"use strict";n.r(e),function(t,i){n(582);var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var s=new(function(){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance||(this.VIEWPORT_AXIS_X=Symbol("X"),this.VIEWPORT_AXIS_Y=Symbol("Y"),this.VIEWPORT_AXIS_ALL=Symbol("All"),this.window=t(window),this._init(),this._handleWindowScrollEvents(),e.instance=this),e.instance}return o(e,[{key:"_init",value:function(){this.elements_map=new Map}},{key:"_handleWindowScrollEvents",value:function(){var t=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function i(r,o){try{var s=e[r](o),h=s.value}catch(t){return void n(t)}if(!s.done)return Promise.resolve(h).then(function(t){i("next",t)},function(t){i("throw",t)});t(h)}("next")})}}(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(114).then(n.bind(null,1));case 2:e=t.sent.default,this.previous_width=this.window.innerWidth(),this.window.on("resize orientationchange",function(){e.isDesktop()?r._refreshJsViewport():r.previous_width!==r.window.innerWidth()&&(r.previous_width=r.window.innerWidth(),r._refreshJsViewport())}),i.watch({"ST::VIEWPORT::REFRESH":function(){e.isDesktop()?r._refreshJsViewport():r.previous_width!==r.window.innerWidth()&&(r.previous_width=r.window.innerWidth(),r._refreshJsViewport())}});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_setJsViewport",value:function(t){if(this.elements_map.has(t)){var e=this.elements_map.get(t),n=0;switch(e.VIEWPORT_AXIS){case this.VIEWPORT_AXIS_X:n=e.VIEWPORT_AXIS_X.PX_TO_ADD-e.VIEWPORT_AXIS_X.PX_TO_SUBTRACT,t.width(this.window.innerWidth()/100*e.VIEWPORT_AXIS_X.VIEWPORT_VALUE+n);break;case this.VIEWPORT_AXIS_Y:n=e.VIEWPORT_AXIS_Y.PX_TO_ADD-e.VIEWPORT_AXIS_Y.PX_TO_SUBTRACT,t.height(this.window.outerHeight(!0)/100*e.VIEWPORT_AXIS_Y.VIEWPORT_VALUE+n);break;case this.VIEWPORT_AXIS_ALL:n=e.VIEWPORT_AXIS_X.PX_TO_ADD-e.VIEWPORT_AXIS_X.PX_TO_SUBTRACT,t.width(this.window.innerWidth()/100*e.VIEWPORT_AXIS_X.VIEWPORT_VALUE+n),n=e.VIEWPORT_AXIS_Y.PX_TO_ADD-e.VIEWPORT_AXIS_Y.PX_TO_SUBTRACT,t.height(this.window.outerHeight(!0)/100*e.VIEWPORT_AXIS_Y.VIEWPORT_VALUE+n)}}}},{key:"_refreshJsViewport",value:function(){var t=this,e=this.elements_map.keys(),n=[],r=function(e){n.push(new Promise(function(n){n(t._setJsViewport(e))}))},o=!0,s=!1,h=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done);o=!0){r(u.value)}}catch(t){s=!0,h=t}finally{try{!o&&a.return&&a.return()}finally{if(s)throw h}}return Promise.all(n).catch(function(t){console.error(t)}).then(function(){i.notify("ST::VIEWPORT::REFRESH::DONE")}),this}},{key:"forceRefreshVP",value:function(){this._refreshJsViewport()}},{key:"addCalcOnElement",value:function(t,e){var n=r({VIEWPORT_AXIS:this.VIEWPORT_AXIS_Y,VIEWPORT_AXIS_X:{VIEWPORT_VALUE:100,PX_TO_ADD:0,PX_TO_SUBTRACT:0},VIEWPORT_AXIS_Y:{VIEWPORT_VALUE:100,PX_TO_ADD:0,PX_TO_SUBTRACT:0}},e);return this.elements_map.set(t,n),this._setJsViewport(t),this}},{key:"addCalcOnElementAsync",value:function(t,e){var n=this;return new Promise(function(i,r){i(n.addCalcOnElement(t,e))})}},{key:"isElementIn",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.visible(e)}},{key:"getElementsInFromArray",value:function(e){var n=this,i=e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.each(function(e,o){var s=t(o);n.isElementIn(s,r)||(i=i.not(s))}),i}}]),e}());e.default=s}.call(this,n(4),n(8))},582:function(t,e,n){(function(t){!function(t){t.fn.visible=function(e,n,i,r){if(!(this.length<1)){var o=this.length>1?this.eq(0):this,s=void 0!==r&&null!==r,h=t(s?r:window),u=s?h.position():0,a=o.get(0),_=h.outerWidth(),l=h.outerHeight(),f=(i=i||"both",!0!==n||a.offsetWidth*a.offsetHeight);if("function"==typeof a.getBoundingClientRect){var c=a.getBoundingClientRect(),w=s?c.top-u.top>=0&&c.top<l+u.top:c.top>=0&&c.top<l,T=s?c.bottom-u.top>0&&c.bottom<=l+u.top:c.bottom>0&&c.bottom<=l,I=s?c.left-u.left>=0&&c.left<_+u.left:c.left>=0&&c.left<_,d=s?c.right-u.left>0&&c.right<_+u.left:c.right>0&&c.right<=_,p=e?w||T:w&&T,v=e?I||d:I&&d;if("both"===i)return f&&p&&v;if("vertical"===i)return f&&p;if("horizontal"===i)return f&&v}else{var E=s?0:u,O=E+l,P=h.scrollLeft(),V=P+_,A=o.position(),R=A.top,X=R+o.height(),W=A.left,S=W+o.width(),m=!0===e?X:R,y=!0===e?R:X,g=!0===e?S:W,b=!0===e?W:S;if("both"===i)return!!f&&y<=O&&m>=E&&b<=V&&g>=P;if("vertical"===i)return!!f&&y<=O&&m>=E;if("horizontal"===i)return!!f&&b<=V&&g>=P}}}}(t)}).call(this,n(4))}}]);
//# sourceMappingURL=Viewport.js.map