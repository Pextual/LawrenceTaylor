define([],function(){"use strict";return yTos.utils.namespace("yTos.helpers.Checkout.LinkToShoppingBag"),yTos.helpers.Checkout.LinkToShoppingBag=yTos.helpers.base.extend({initialize:function(){},refreshAfterInitialization:function(){this.update()},events:function(){var a={click:"onClick",mouseenter:"notifyMouseEnter",mouseleave:"yTos::Checkout::LinkToShoppingBagMouseLeave"};return this.options.preventDefaultBehaviour&&(a["a click"]="preventDefault"),a},globalMessages:{"yTos::Account::UserLoggedIn":"update","yTos::Account::UserLoggedOut":"update","yTos::Checkout::RemoveItemSuccess":"update","yTos::Checkout::ItemQuantityUpdated":"update","yTos::Item::ItemAddedToShoppingBag":"update","yTos::Product::ProductAddedToShoppingBag":"update","yTos::Checkout::MoveItemToWishListSuccess":"update","yTos::Cart::ShowMiniCart":"activate","yTos::Cart::HideMiniCart":"deactivate"},onClick:function(a){this.notify("yTos::Checkout::LinkToShoppingBagClicked",{isDefaultBehaviourDisabled:this.options.preventDefaultBehaviour,itemsInCart:this.getProductsCount()})},notifyMouseEnter:function(a){this.notify("yTos::Checkout::LinkToShoppingBagMouseEnter",{itemsInCart:this.getProductsCount()})},getProductsCount:function(){return this.$("[data-ytos-products-count]").yTos("products-count")},preventDefault:function(a){a.preventDefault()},activate:function(){this.$el.addClass("is-active")},deactivate:function(){this.$el.removeClass("is-active")},update:function(){this.getHTML({Plugin:"Checkout",Action:"RenderLinkToShoppingBagAsync"},{data:this.options,success:function(a){this.notify("yTos::Checkout::LinkToShoppingBagUpdated")}.bind(this),stripMe:!0,autoUpdate:!0})}}),yTos.helpers.Checkout.LinkToShoppingBag});